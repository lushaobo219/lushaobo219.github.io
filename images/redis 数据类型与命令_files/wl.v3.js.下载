!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.log=e():t.log=e()}(self,function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=11)}([function(t,e,o){"use strict";o.d(e,"g",function(){return r}),o.d(e,"h",function(){return i}),o.d(e,"e",function(){return a}),o.d(e,"f",function(){return s}),o.d(e,"i",function(){return c}),o.d(e,"b",function(){return l}),o.d(e,"a",function(){return d}),o.d(e,"c",function(){return f}),o.d(e,"l",function(){return h}),o.d(e,"d",function(){return p}),o.d(e,"k",function(){return g}),o.d(e,"j",function(){return v});var n=null;function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Function]"===Object.prototype.toString.call(t)}function a(t){var e="",o=n.location;return o&&(e=o.search.match(new RegExp("(\\?|&)"+t+"=([^&]*)(#|&|$)"))),e?decodeURIComponent(e[2]):""}function s(){var t=n.crypto||n.msCrypto;if(void 0!==t&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var o=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return o(e[0])+o(e[1])+o(e[2])+o(e[3])+o(e[4])+o(e[5])+o(e[6])+o(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function c(){return+new Date}function u(t){return function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}("Object",t)}function l(t){return u(t)?JSON.stringify(t):t}function d(t){return u(t)?t:JSON.parse(t)}function f(t){var e=new RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),o="";return n.document&&(o=n.document.cookie.match(e)),(o?o[1]:"")||null}function h(t,e){var o=l(e);try{localStorage.setItem(t,o)}catch(e){!function(t,e,o,r,i){var a=new Date;a.setTime(a.getTime()+(o?864e5*o:2592e6)),n.document&&(document.cookie=t+"="+encodeURIComponent(l(e))+";expires="+a.toGMTString()+";path="+(r||"/")+";"+(i?"domain="+i+";":""))}(t,o)}}function p(t){try{return localStorage.getItem(t)}catch(e){return f(t)}}"undefined"!=typeof window?n=window:"undefined"!=typeof self&&(n=self);var w,m;function g(t,e){var o,n="wl_today_"+t,r=(o=new Date,String(o.getUTCFullYear())+(o.getUTCMonth()+1)+o.getUTCDate()),i=p(n);i!==r&&(h(n,r),e(i,r))}function v(t){m||(void 0!==document.hidden?("hidden",m="visibilitychange",w="visibilityState"):void 0!==document.mozHidden?("mozHidden",m="mozvisibilitychange",w="mozVisibilityState"):void 0!==document.msHidden?("msHidden",m="msvisibilitychange",w="msVisibilityState"):void 0!==document.webkitHidden&&("webkitHidden",m="webkitvisibilitychange",w="webkitVisibilityState")),window.mqq&&0!=window.mqq.QQVersion?window.mqq.addEventListener("qbrowserVisibilityChange",function(e){var o=e.hidden?"hide":"visible";t&&t(o)}):document.addEventListener(m,function(){t&&t(document[w])},!1)}},function(t,e,o){"use strict";o.d(e,"b",function(){return n}),o.d(e,"a",function(){return r}),o.d(e,"d",function(){return a}),o.d(e,"c",function(){return s});var n=10,r=1e4,i=!1,a=function(t){i=!0},s=function(){return i}},function(t,e,o){"use strict";o.d(e,"a",function(){return l}),o.d(e,"b",function(){return d});var n=4,r=200;function i(){}function a(t){var e={};return e.url=t.url,e.paramObj=t.param||{},e.successCb=t.success||i,e.errorCb=t.error||i,e.xhrFields=t.xhrFields||{},e.headers=t.headers||{},e.method=t.ajaxType||"GET",e.dataType=t.dataType||"json",e.async=t.async,e.timeout=t.timeout,e.method=e.method.toUpperCase(),e}function s(t){var e=[];for(var o in t)e.push(o+"="+encodeURIComponent(t[o]));return e.join("&")}function c(t,e,o){if(t.setRequestHeader){"GET"!==o&&"POST"!==o||t.setRequestHeader("Content-type","application/x-www-form-urlencoded");e=e||{};for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])}}function u(t,e){t.withCredentials=!0,!1===e.withCredentials&&(t.withCredentials=!1)}function l(t){var e=a(t),o=s(e.paramObj),n=function(t,e){return t+=(~t.indexOf("?")?"&":"?")+e}(e.url,o),r=f(e);r&&(r.open("GET",n,!0),u(r,e.xhrFields),c(r,e.headers,"GET"),r.send())}function d(t){var e=a(t),o=s(e.paramObj),n=e.url,r=f(e);r&&(r.open("POST",n,!0),u(r,e.xhrFields),c(r,e.headers,"POST"),r.send(o))}function f(t){var e=function(){for(var t=null,e=[function(){return new XMLHttpRequest},function(){return new XDomainRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.xmlhttp")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],o=0,n=e.length;o<n;o++){try{t=e[o]()}catch(t){continue}break}return t}();if(!e)throw new Error("XMLHttp is not defined");try{t.timeout&&(e.timeout=t.timeout)}catch(t){}return e.async=!1!==t.async,e.onreadystatechange=function(){if(e.readyState===n)if(e.status===r){var o=e.responseText;"json"===t.dataType&&(o=JSON.parse(e.responseText)),t.successCb(o)}else t.errorCb({errCode:e.status})},e.onerror=function(){t.errorCb({errCode:-1})},e.ontimeout=function(){t.errorCb({errCode:-2})},e}},function(t,e,o){"use strict";var n=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.length,r=e.timestamp,i=e.autoFlush,a=void 0===i||i;e.flushOnBeforeUnload;this.autoFlush=a,this.length=n,this.timestamp=r,this.timer=null,this.data=[],this.flushCallback=o}return t.prototype.add=function(t){var e=this;this.data.push(t),this.autoFlush&&(this.timer&&clearTimeout(this.timer),this.data.length>this.length?this.flush():this.timer=setTimeout(function(){e.flush()},this.timestamp))},t.prototype.flush=function(){this.data.length>0&&this.flushCallback&&(this.flushCallback(this.data),this.data=[])},t.prototype.startFlush=function(t){this.autoFlush=!0,t&&(this.flushCallback=t),this.flush()},t}();e.a=n},function(t,e,o){"use strict";var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners=[],this.listen=this.listen.bind(this),this.dispatch=this.dispatch.bind(this)}return t.prototype.listen=function(t,e){this.listeners.push({type:t,callback:e})},t.prototype.dispatch=function(t,e){this.listeners.forEach(function(o){var n=o.type,r=o.callback;n===t&&r(e)})},t}();e.a=n},function(t,e,o){"use strict";var n=o(0);e.a=function t(e){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.workerCannelCallback=function(t){return function(e){try{o.instance.postMessage([t,"CHANNEL_CALLBACK",e])}catch(n){try{o.instance.postMessage([t,"CHANNEL_CALLBACK",{__wc__:JSON.stringify(e)}])}catch(t){o.monitor(34092834),o.tdw({action:"workerchannel_workerCannelCallback_error",obj1:t.message}),console.error("[wl] An error occurred while postMessage, Please check",e)}}}},this.sendTo=function(t,e,r){var i="";Object(n.h)(e)&&(r=e,e=null),r&&(i=Object(n.f)(),o.callbackMap[i]=r);try{o.instance.postMessage([i,t,e])}catch(n){try{o.instance.postMessage([i,t,{__wc__:JSON.stringify(e)}])}catch(t){o.monitor(34092834),o.tdw({action:"workerchannel_sendto_error",obj1:t.message}),console.error("[wl] An error occurred while postMessage, Please check",e)}}},this.setReducer=function(t){o.reducers=t},this.receiver=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e=t.data||[],n=e[0],r=e[1],i=e[2];i&&i.__wc__&&(i=JSON.parse(i.__wc__)),"CHANNEL_CALLBACK"===r&&o.callbackMap[n]?o.callbackMap[n](i):o.reducers[r]&&o.reducers[r](i,o.workerCannelCallback(n))}catch(t){o.monitor(34092799),o.tdw({action:"workerchannel_receiver_error",obj1:t.message}),console.error("receiver error",t)}},this.instance=e,this.reducers={},this.callbackMap={},this.instance.onmessage=this.receiver;var i=r.monitor,a=r.tdw;this.monitor=i||function(){},this.tdw=a||function(){}}},function(t,e,o){"use strict";function n(t){navigator&&navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(function(e){if(e||!e.usage){var o=parseInt(e.usage/1024/1024/1024*100,10)/100;t&&t({usageGB:o,usage:e.usage,quota:e.quota})}}):t&&t({usageGB:-1,usage:-1,quota:1073741824,isFake:!0})}o.d(e,"a",function(){return n})},,function(t,e,o){!function(){var e={},o=!1,n=[],r=0,i=null,a=function(t){var o;return window&&window.localStorage?(o=window.localStorage.getItem(t))&&JSON.parse(o)||void 0:e[t]},s=function(t,o){o?window&&window.localStorage?window.localStorage.setItem(t,JSON.stringify(o)):e[t]=o:window&&window.localStorage?window.localStorage.removeItem(t):delete e[t]},c=function(t,e){var o=+new Date;if(clearTimeout(i),o-r<50)return t&&e&&n.push({t:t,d:e}),void(i=setTimeout(c,10));r=o;var u=[];try{(!(u=a("ALLOY_REPORT_TEMP"))instanceof Array||!u)&&(u=[]),t&&e&&u.push({t:t,d:e}),u=u.concat(n),n=[],s("ALLOY_REPORT_TEMP",u)}catch(t){console.error(t)}u.push({t:t,d:e})},u=["monitor","tdw","huatuo","retcode","tdbank","tdw.setDefaultTable","tdbank.setDefaultTable","tdw.setDefaultData","tdbank.setDefaultData","tdw.clearDefaultData","tdbank.clearDefaultData","performance","closeLog","openLog","reset"],l={},d=function(t){if(t=t||0,("undefined"!=typeof window||"undefined"!=typeof document)&&!window.QReport.isMain&&t<4){var e="//s.url.cn/pub/js/alloyreport.next.js?_bid=2231";t&&t<3?e="//s"+t+".url.cn/pub/js/alloyreport.next.js":t&&(e="//pub.idqqimg.com/pub/js/alloyreport.next.js");var n=document.createElement("script");n.setAttribute("src",e),n.onload=n.onreadystatechange=function(){if(!(o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))if(o=!0,window.QReport.isMain)try{window.QReport.reset=window.AlloyReportCore&&window.AlloyReportCore.reset||function(){},Object.assign(l,window.QReport),function(){var t;!(t=a("ALLOY_REPORT_TEMP"))instanceof Array&&(t=[]);for(var e=0;e<t.length;e++)try{var o=t[e].t.split(".");if(o.length>1){if(!l[o[0]])return;l[o[0]][o[1]].apply(this,t[e].d)}else l[o[0]].apply(this,t[e].d)}catch(t){console.error(t)}s("ALLOY_REPORT_TEMP"),window.__reportWating=!1}()}catch(t){}else{switch(o=!1,t){case 0:window.QReport.monitor(2396704);break;case 1:window.QReport.monitor(2396705);break;case 2:window.QReport.monitor(2396706)}d(t+1)}},n.onerror=function(){switch(t){case 0:window.QReport.monitor(2396704);break;case 1:window.QReport.monitor(2396705);break;case 2:window.QReport.monitor(2396706)}d(t+1)},document.body.appendChild(n)}};"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(!t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t});for(var f=0;f<u.length;f++){var h=u[f],p=h.split("."),w=function(t){return function(){for(var e=[],o=0;o<arguments.length;o++)e.push(arguments[o]);c(t,e)}}(h);p.length>1?(l[p[0]]||(l[p[0]]={}),l[p[0]][p[1]]=w):l[p[0]]=w}"undefined"==typeof window&&"undefined"==typeof document||window.QReport||(window.QReport=l,window.AlloyReport=l,window.__reportWating=!0,d(0)),t.exports&&(t.exports=window.QReport)}()},,,function(t,e,o){"use strict";o.r(e);var n=o(4),r=o(1);var i={DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a=0,s=0,c=function(t){function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.call(n),n.namespace=o,n.monitor=function(){},n.tdw=function(){},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMax=function(t){e.maxCount=t},e.prototype.setLevel=function(t){e.level=t},e.prototype.setBeforeHandler=function(t){e.beforeHandler=t},e.prototype.setHandler=function(t){e.handler=t},e.prototype.log=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];this._handler(i.DEBUG,t,o)},e.prototype.debug=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];this._handler(i.DEBUG,t,o)},e.prototype.info=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];this._handler(i.INFO,t,o)},e.prototype.warn=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];this._handler(i.WARN,t,o)},e.prototype.error=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];this._handler(i.ERROR,t,o)},e}(n.a);c.count=0,c.maxCount=r.a,c.levels=i,c.level=i.INFO,c.beforeHandler=function(){},c.handler=function(){};var u=function(){var t=this;this._handler=function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var i=r.ts;if(c.beforeHandler({_n:t.namespace,level:e,msg:o,data:n}),e<c.level)return;if((a=i||Date.now())<=s&&(a=s+1),++c.count>c.maxCount)return;c.count===c.maxCount&&(o="[wl]单次访问达到日志上限:"+c.maxCount+"]",n=[]);try{if(o){var u=JSON.stringify({_:o});u.length>2056&&(o=u.slice(6,2054)+"..",t.monitor(33849997),t.tdw({action:"reach_max_one_log_msg_length",obj1:u.length,obj2:o}))}if(n.length>0){var l=JSON.stringify({_:n});l.length>2056&&(n=[l.slice(5,2053)+".."],t.monitor(33849997),t.tdw({action:"reach_max_one_log_data_length",obj1:l.length,obj2:n}))}}catch(t){o="[wl]日志进行 JSON.stringify 出现时出现错误，请检查日志内容",e=c.levels.ERROR,n=[],console.warn("[wl]日志进行 JSON.stringify 出现时出现错误，请检查日志内容",t)}c.handler({_t:a,_n:t.namespace,level:e,msg:o,data:n}),s=a}catch(e){console.warn("[wl]处理日志时出现异常，请检查日志内容",e),t.monitor(34509204),t.tdw({action:"weblog_handler_error",obj1:e.message})}},this.handleTmpLog=function(e,o){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var s=e.methodName,c=e.ts,u=i[s.toUpperCase()];t._handler(u,o,r,{ts:c})}},l=c,d=o(3),f=o(5),h=o(0);var p="0",w="1",m={1:"log",2:"info",3:"warn",4:"error"};var g="https://s1.url.cn/tim/docs/pub/wl/assets/wl-assets.json",v=!1;function b(t,e){!function t(e,o,n){if(v)return o&&o();var r=document.createElement("script");r.src="https://s1.url.cn/tim/docs/pub/wl/assets/wl-assets-loader.js",document.body.appendChild(r),r.addEventListener("load",function(){WeblogAssetsLoader.init(g,function(){v=!0,o&&o()})}),r.addEventListener("error",function(){if(e>2)return n&&n();t(++e,o,n)})}(0,t,e)}function y(t,e){b(function(){WeblogAssetsLoader?WeblogAssetsLoader.load(t,function(t){t?t.init(e):console.warn("Asset undefined")}):console.warn("WeblogAssetsLoader undefined")})}function _(t){t.listen("WL-CONFIG",function(t){try{var e=t.options;"on"===(e&&JSON.parse(e)||{}).WL_TOOL_ON_OFF&&function(t){try{var e=t.options,o=e&&Object(h.a)(e)||{};b(function(){for(var t in o)!function(t){var e=o[t];e&&WeblogAssetsLoader&&WeblogAssetsLoader.asset[t]&&WeblogAssetsLoader.load(t,function(t){t.init(e)})}(t)})}catch(e){console.warn("log config",t,e)}}(t),Object(h.l)("WL_OPTIONS",e)}catch(t){console.error(t)}});try{var e=t.$options.wl;if(e){t.cacheConsole=[];["log","info","warn","debug","error"].forEach(function(e){var o=console[e];console[e]=function(){t.cacheConsole.push({logType:e,logs:arguments}),o.apply(console,arguments)}}),"show"===e?t.loadAsset("WL_DEVTOOLS","show"):t.loadAsset("WL_DEVTOOLS")}}catch(e){console.error(e),t&&t.monitor&&t.monitor(34093340),t&&t.tdw&&t.tdw({action:"method_error",obj1:e.message,obj2:"asset"})}}var j=null;var O=o(2),x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};function k(t,e){Object(O.b)(x({},t,{timeout:1e5,success:function(t){e&&e({type:"success",data:t})},error:function(t){e&&e({type:"error",data:t})}}))}function L(t,e){this.dispatch("WL-CONFIG",t)}var C=o(8),T=o.n(C),R=!1,S=Object(h.c)("uid");var q=!(!window.navigator||"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"!==window.navigator.userAgent);function E(t){R&&console.warn("monitor",t),q||T.a.monitor(t)}function I(t){try{if(q)return;t.table="dc03111",t.module="weblog2",t.opername="tech_doc",t.source1=window.navigator.userAgent,t.source2=S,t.source3=window.location.href,t.ver1="3.4.40",T.a.tdw(t),R&&console.warn("tdw",t)}catch(t){console.warn(t)}}function D(t,e){var o=t.msg,n=t.data;n?this.info(o,n):this.info(o)}function A(t,e){var o=t.key,n=t.options;e({reportId:this.report(o,n)})}function $(t,e){this.$options.worker=t,this.info("[wl][wk][init]",t)}var W=o(6);function N(t){var e=t.usageGB,o=t.monitor,n=t.monitorIds;e>3?o(n[3]):e>2.5?o(n[2.5]):e>2?o(n[2]):e>1.5?o(n[1.5]):e>1?o(n[1]):e>.5&&o(n[.5]),o(n.support)}function M(t,e){try{var o=t.$options,n=t.monitor,r=t.tdw;if(2==o.pid){var i=function(t,e){try{var o=t.target.src;if(o&&!(/\/\/s(.*?)\.url\.cn/.test(o)||/pub\.idqqimg\.com/.test(o)||/docs\.qq\.com/.test(o)||/thirdqq\.qlogo\.cn/.test(o)||/imgcache\.qq\.com/.test(o)||/wx\.qlogo\.cn/.test(o)||/thirdwx\.qlogo\.cn/.test(o)||/data:image/.test(o)||/p\.qlogo\.cn/.test(o)||/p\.qpic\.cn/.test(o)||/res\.wx\.qq\.com/.test(o)||/qzonestyle\.gtimg\.cn/.test(o)||/qqadapt\.qpic\.cn/.test(o)||/open\.mobile\.qq\.com/.test(o)||/q\.qlogo\.cn/.test(o)||/ssl\.ptlogin2\.qq\.com/.test(o)||/jsbridge/.test(o)||/avatar\.tower\.im/.test(o)||/avatar-alioss\.tower\.im/.test(o))){console.log(e,o);var i="load"===e?"error_url_load3":"error_url_error3";n("load"===e?34509202:34509203),r({action:i,obj1:o})}}catch(t){}};!function(t,e){j=new e("raven")}(0,e);try{var a=window.localStorage&&window.localStorage.getItem("browserStr");a&&window.localStorage&&window.localStorage.setItem("browserStr",a)}catch(t){n(34461996),console.error(t)}document.addEventListener("load",function(t){i(t,"load")},!0),document.addEventListener("error",function(t){i(t,"error")},!0),window.__isDev&&"ignore"!==Object(h.e)("jserror")&&t.loadAsset("WL_ERROR_LISTENER"),n(34511576);var s=new e("jserror");window.addEventListener("error",function(t){var e=t&&t.message||"";s.error(e,{f:t.filename,l:t.lineno,c:t.colno})}),setTimeout(function(){window.clientVars&&(n(34532794),clientVars.isOverConNum&&!clientVars.isCreator||0==(2&clientVars.rightFlag)||clientVars.isFormPreview?n(34532769):n(34532770))},5e3)}}catch(t){console.error(t)}}var B,P=Object(h.e)("wl"),H=Object(h.c)("wl"),F=H?l.levels.DEBUG:l.levels.INFO,G="/scenario/pub/wl/wlwk.min.3.4.js",U=null,V=function(t){function e(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return n.$options={config:null,keepDays:10,version:"3.4.40",uid:Object(h.c)("uid"),startTs:window.WEBLOG_CONFIG&&window.WEBLOG_CONFIG.startTs||Number(new Date),sessionId:Object(h.f)(),isWhiteList:H,wl:P,pid:0,release:0,workerUrl:G},n.var={},n.getUUID=h.f,n.record=function(){},U||(U=1,n.$workerInstance=null,n.cache=new d.a({length:10,timestamp:2e3,flushOnBeforeUnload:!0,autoFlush:!1}),n.monitor=E,n.tdw=I,n._init()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._init=function(){var t,o,n,r=this;try{this.setLevel(F),this.setBeforeHandler(function(t){r.dispatch("WL-SOURCE-LOG",t)}),this.setHandler(function(t){r.cache.add(t),r.dispatch("WL-LOG",t)}),this.initEventListener();var i=new e("x");!function(t){if(window.XMLHttpRequest){var e=window.XMLHttpRequest.prototype.open,o=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.open=function(){var t=[].slice.call(arguments),o=t[0].toUpperCase(),n=t[1],r=Object(h.f)();return this.__wl_xhr={seq_id:r,method:o,url:n,status_code:null},e.apply(this,t)},window.XMLHttpRequest.prototype.send=function(){var e=this,n=e.onload||function(){};if(e.__wl_xhr&&(e.__wl_xhr.t1=Date.now()),e.onload=function(){if(e.__wl_xhr&&4===e.readyState&&!e.__wl_xhr.url.match("weblog")&&!e.__wl_xhr.url.match("mstats_batch_report")){try{e.__wl_xhr.status_code=e.status,e.__wl_xhr.t=Date.now()-e.__wl_xhr.t1,delete e.__wl_xhr.t1}catch(t){}t({type:"http",category:"xhr",data:e.__wl_xhr})}return n.apply(e,arguments)},e.__wl_xhr&&e.__wl_xhr.url){var r=e.__wl_xhr.url;("/"===r[0]&&"/"!==r[1]||r.match("^docs.qq.com")||r.match("^//docs.qq.com")||r.match("^https://docs.qq.com")||r.match("^http://docs.qq.com"))&&!r.match("weblog")&&e.setRequestHeader("X-Seq-Id",e.__wl_xhr.seq_id)}return o.apply(e,arguments)}}}(function(t){i.info(t.data)}),t={monitor:this.monitor,tdw:this.tdw},o=t.tdw,n=t.monitor,Object(W.a)(function(t){var e=t.usageGB,r=t.usage,i=t.quota;t.isFake||(N({usageGB:e,monitor:n,monitorIds:{3:33662455,2.5:33662455,2:33662453,1.5:33662452,1:33662451,.5:33662450,support:33662457}}),Object(h.k)("storage",function(){N({usageGB:e,monitor:n,monitorIds:{3:33703604,2.5:33703605,2:33703606,1.5:33703607,1:33703608,.5:33703609,support:33703610}})}),o({action:"storage_size",obj1:r,obj2:i}))})}catch(t){this.monitor(34092734),this.tdw({action:"weblogsdk_init_error",obj1:t.message}),console.error(t)}},e.prototype.initEventListener=function(){var t=this;Object(h.j)(function(e){var o={state:e,date:+new Date};t.info("onVisibilityChange:"+e),t.invokeWk("onVisibilityChange",o)}),window.addEventListener("beforeunload",function(e){t.info("beforeunload"),t.invokeWk("beforeunload")});var e=window.onerror;window.onerror=function(o,n,r,i,a){t.error("jsError4windowonerror:"+o+":"+n+":"+r+":"+i),e&&e(o,n,r,i,a)}},e.prototype.initWorkerInstance=function(t){var e=this,o=this,n=new Worker(t),r=0;n.onerror=function(t){var n=t.message,i=t.filename,a=t.lineno,s=t.colno;e.monitor(33691443),e.tdw({action:"wl_error",obj1:n,obj2:a+":"+s+"|"+i,obj3:o.$options&&o.$options.pid}),r++<10&&(console.warn("worker error",t),e.error("worker error",t),e.report("WL_ERROR",{data:{message:n,filename:i,lineno:a,colno:s,location:window.location.href}}))};var i=new f.a(n,{monitor:this.monitor,tdw:this.tdw}),a=i.sendTo,s=i.setReducer;return n.sendTo=a,n.setReducer=s,n},e.prototype.config=function(t){var o=this;if(!this.$options.config){try{var n=this;this.$options=Object.assign({},this.$options,t),this.$options.config=t,function(t){t.listen("WL-SOURCE-LOG",function(e){try{var o=t.$options.pid,n=Object(h.d)("wl_console_"+o)||p,r=[],i=e._n,a=e.level,s=e.msg,c=e.data;if(n===w&&"x"!==i){var u,l=m[a];if(!l)return;r=[],i&&(r=r.concat("["+i+"]")),r=(r=r.concat("["+l+"]")).concat(s),c&&c.length>0&&(r=r.concat(c)),(u=console)[l].apply(u,r)}}catch(e){console.error(e),t&&t.monitor&&t.monitor(34093338),t&&t.tdw&&t.tdw({action:"method_error",obj1:e.message,obj2:"console"})}})}(n),_(n),this.info("[wl]init",{v:this.$options.version,release:this.$options.release}),this.$options.url=window.location.href;var r=this.$options.workerUrl;if(this.$workerInstance=this.initWorkerInstance(r),this.$workerInstance){var i=function(t){return{handleAjaxPost:k.bind(t),monitor:E.bind(t),tdw:I.bind(t),fetchConfig:L.bind(t),fectchConfig:L.bind(t),logInfo:D.bind(t),report:A.bind(t),var:$.bind(t)}}(this);this.$workerInstance.setReducer(i),this.$workerInstance.sendTo("init",this.$options)}this.cache.startFlush(function(t){o.$workerInstance&&o.$workerInstance.sendTo("recordLog",t)}),n.var=this.$options,n.version=this.$options.version,n._uid=this.$options.uid,n._startTime=this.$options.startTs,n._sessionId=this.$options.sessionId,n._pid=this.$options.pid,n.getUUID=h.f,n.record=function(){}}catch(t){this.monitor(34092735),this.tdw({action:"weblogsdk_config_error",obj1:t.message}),console.error(t.message)}try{M(this,e)}catch(t){console.error(t)}}},e}(l);(B=V).prototype.hideConsole=function(){var t=this;try{var e=t.$options.pid;Object(h.l)("wl_console_"+e,p)}catch(e){console.error(e),t&&t.monitor&&t.monitor(34093341),t&&t.tdw&&t.tdw({action:"method_error",obj1:e.message,obj2:"hideConsole"})}},B.prototype.showConsole=function(){var t=this;try{var e=t.$options.pid;Object(h.l)("wl_console_"+e,w)}catch(e){console.error(e),t&&t.monitor&&t.monitor(34093342),t&&t.tdw&&t.tdw({action:"method_error",obj1:e.message,obj2:"showConsole"})}},function(t){t.prototype.loadAssetLoader=b,t.prototype.loadAsset=y}(V),function(t){t.prototype.getDBLog=function(t){var e=this;try{var o=e.cache,n=e.$workerInstance;o.flush(),n?n.sendTo("getDBLog",t):t&&t(o.data)}catch(t){console.error(t),e&&e.monitor&&e.monitor(34093327),e&&e.tdw&&e.tdw({action:"method_error",obj1:t.message,obj2:"getDBLog"})}},t.prototype.getDBLogByTime=function(t,e,o){var n=this;try{var r=n.cache,i=n.$workerInstance;r.flush(),i&&i.sendTo("getDBLogByTime",{t1:t,t2:e},o)}catch(t){console.error(t),n&&n.monitor&&n.monitor(34093328),n&&n.tdw&&n.tdw({action:"method_error",obj1:t.message,obj2:"getDBLogByTime"})}},t.prototype.query=function(t,e){var o=this;try{var n=t.startTs,r=t.endTs,i=t.sessionId;t.namespace,i?this.getDBLog(e):this.getDBLogByTime(n,r,e)}catch(t){console.error(t),o&&o.monitor&&o.monitor(34093329),o&&o.tdw&&o.tdw({action:"method_error",obj1:t.message,obj2:"query"})}}}(V),function(t){t.prototype.raven=function(t){var e=this;try{return function(t){var e=t.project,o=t.release,n=t.message,r=t.exception,i={project:e,release:o,event_id:t.event_id||(t.event_id=Object(h.f)())},a="";if(r&&r.values&&r.values[0])try{a=r.values[0].value,a+=(r.values[0].stacktrace.frames||[]).reduceRight(function(t,e){var o=e.colno,n=e.lineno;return t+"\n at "+e.function+" "+e.filename+":"+n+":"+o},"")}catch(t){}(j||this).error(n||a,i);var s=this.$options,c=s.uid,u=s.pid,l=s.sessionId,d=s.startTs;return t.extra.sessionURL="uid|"+c+"|pid|"+u+"|sessionId|"+l+"|time|"+d+"-"+Date.now(),t}.bind(e)(t)}catch(o){return console.error(o),e&&e.monitor&&e.monitor(34093326),e&&e.tdw&&e.tdw({action:"method_error",obj1:o.message,obj2:"raven"}),t}}}(V),function(t){t.prototype.report=function(t,e,o){var n=this;try{e||(e={query:{sessionId:n.$options.sessionId}});var r=e||{},i=r.data,a=r.query;if(!i&&!a||!t)return void console.warn("[log.report] Missing Required Arguments");var s=i?1:Object(h.f)(),c=e.reportIdCallback;return delete e.reportIdCallback,n.info("[wl][report]"+t,s,e),n.cache.flush(),n.$workerInstance.sendTo("report",{id:s,key:t,options:e},o),c&&c(s),s}catch(t){return n&&n.monitor&&n.monitor(34093315),n&&n.tdw&&n.tdw({action:"method_error",obj1:t.message,obj2:"report"}),console.error(t),0}},t.prototype.reportLog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],o=this;try{o.$workerInstance.sendTo("reportLog",t,e)}catch(t){o&&o.monitor&&o.monitor(34093317),o&&o.tdw&&o.tdw({action:"method_error",obj1:t.message,obj2:"reportLog"}),console.error(t)}}}(V),function(t){t.prototype.invokeWk=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],n=this;try{e.imm&&n.cache.flush(),n.$workerInstance&&n.$workerInstance.sendTo("invoke",{type:t,data:e,ts:Date.now()},function(t){o&&o(t)})}catch(t){console.error(t),n&&n.monitor&&n.monitor(34093318),n&&n.tdw&&n.tdw({action:"method_error",obj1:t.message,obj2:"invokeWk"})}},t.prototype.deleteDatabase=function(t){var e=this;try{e.$workerInstance&&e.$workerInstance.sendTo("deleteDatabase",{dbname:t})}catch(t){console.error(t),e&&e.monitor&&e.monitor(34093319),e&&e.tdw&&e.tdw({action:"method_error",obj1:t.message,obj2:"deleteDatabase"})}},t.prototype.dispatchConfig=function(t){var e=this;try{e.cache.flush(),e.$workerInstance&&e.$workerInstance.sendTo("dispatchConfig",t)}catch(t){console.error(t),e&&e.monitor&&e.monitor(34093320),e&&e.tdw&&e.tdw({action:"method_error",obj1:t.message,obj2:"dispatchConfig"})}},t.prototype.ws=t.prototype.dispatchConfig,t.prototype.getWorkerVar=function(t){var e=this;try{e.$workerInstance&&e.$workerInstance.sendTo("getWorkerVar",{},function(e){console.log(e),t&&t(e)})}catch(t){console.error(t),e&&e.monitor&&e.monitor(34093321),e&&e.tdw&&e.tdw({action:"method_error",obj1:t.message,obj2:"getWorkerVar"})}}}(V);var Q=V;try{"undefined"==typeof Worker&&(E(33703264),console.warn("Worker is undefined"));var X=Number(new Date);window.performanceData=window.performanceData?window.performanceData:{},window.performanceData.jsStartRun=window.performanceData.jsStartRun?window.performanceData.jsStartRun:X,window.performanceData._jsStartRun=window.performanceData._jsStartRun?window.performanceData._jsStartRun:X}catch(t){E(33703264),console.warn("catch Worker is undefined",t)}E(33662456),Q.version="3.4.40",window.WebLog=Q;var J=new Q;try{var z=window.log&&window.log.dataPool,K={};if(z){J.$options.startTs=window.log.startTs;try{for(var Y=0;Y<z.length;Y++){var Z=z[Y],tt=Z.m,et=Z.d,ot=Z.t,nt=Z.n,rt=nt?K[nt]=K[nt]||new Q(nt):J;["log","debug","info","warn","error"].indexOf(tt)>-1?rt.handleTmpLog.apply(rt,[{methodName:tt,ts:ot}].concat(et)):rt[tt].apply(rt,et)}}catch(t){console.error(t)}}}catch(t){console.error(t)}window.log=J,window.WEBLOG_CONFIG&&J.config(window.WEBLOG_CONFIG);e.default=J}]).default});